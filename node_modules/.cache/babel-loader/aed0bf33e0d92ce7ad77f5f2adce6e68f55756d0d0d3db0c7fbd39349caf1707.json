{"ast":null,"code":"import _slicedToArray from\"/Users/abhishek/Documents/react/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FormCard(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),err=_useState6[0],setErr=_useState6[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var cityName=city.trim();var regex=/^[a-zA-Z ]*$/;if(!regex.test(cityName)){setErr(\"Enter a valid input\");return;}navigate(\"/weather?city=\".concat(cityName));};var getLocation=function getLocation(){if(!navigator.geolocation){setStatus(\"Geolocation is not supported by your browser\");}else{setStatus(\"Locating...\");navigator.geolocation.getCurrentPosition(function(position){setStatus(null);navigate(\"/weather?lat=\".concat(position.coords.latitude,\"&lng=\").concat(position.coords.longitude));},function(){setStatus(\"Unable to retrieve your location\");});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-form\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Weather App\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter city name\",required:true,onInput:function onInput(e){return setCity(e.target.value);}}),err&&/*#__PURE__*/_jsx(\"p\",{className:\"err\",children:err})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"median-line\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"span\",{children:\"or\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-form\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:getLocation,className:\"btn\",children:\"Get Device Location\"}),status&&/*#__PURE__*/_jsx(\"div\",{className:\"err\",children:status})]})]});}export default FormCard;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","FormCard","navigate","_useState","_useState2","_slicedToArray","city","setCity","_useState3","_useState4","status","setStatus","_useState5","_useState6","err","setErr","handleSubmit","event","preventDefault","cityName","trim","regex","test","concat","getLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","className","children","onSubmit","type","placeholder","required","onInput","e","target","value","onClick"],"sources":["/Users/abhishek/Documents/react/weather-app/src/components/FormCard.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction FormCard() {\n  const navigate = useNavigate();\n  const [city, setCity] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const cityName = city.trim();\n    const regex = /^[a-zA-Z ]*$/;\n    if (!regex.test(cityName)) {\n      setErr(\"Enter a valid input\");\n      return;\n    }\n    navigate(`/weather?city=${cityName}`);\n  };\n\n  const getLocation = () => {\n    if (!navigator.geolocation) {\n      setStatus(\"Geolocation is not supported by your browser\");\n    } else {\n      setStatus(\"Locating...\");\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setStatus(null);\n          navigate(\n            `/weather?lat=${position.coords.latitude}&lng=${position.coords.longitude}`\n          );\n        },\n        () => {\n          setStatus(\"Unable to retrieve your location\");\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"form-card\">\n      <div className=\"header-form\">\n        <h2>Weather App</h2>\n      </div>\n      <hr></hr>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter city name\"\n          required\n          onInput={(e) => setCity(e.target.value)}\n        />\n        {err && <p className=\"err\">{err}</p>}\n      </form>\n      <div className=\"median-line\">\n        <div className=\"line\"></div>\n        <span>or</span>\n        <div className=\"line\"></div>\n      </div>\n      <div className=\"btn-form\">\n        <button onClick={getLocation} className=\"btn\">\n          Get Device Location\n        </button>\n        {status && <div className=\"err\">{status}</div>}\n      </div>\n    </div>\n  );\n}\n\nexport default FormCard;"],"mappings":"iIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,GAAM,CAAAC,QAAQ,CAAGN,WAAW,EAAE,CAC9B,IAAAO,SAAA,CAAwBR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA4Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAsBjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA3BE,GAAG,CAAAD,UAAA,IAAEE,MAAM,CAAAF,UAAA,IAElB,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAC9BA,KAAK,CAACC,cAAc,EAAE,CACtB,GAAM,CAAAC,QAAQ,CAAGb,IAAI,CAACc,IAAI,EAAE,CAC5B,GAAM,CAAAC,KAAK,CAAG,cAAc,CAC5B,GAAI,CAACA,KAAK,CAACC,IAAI,CAACH,QAAQ,CAAC,CAAE,CACzBJ,MAAM,CAAC,qBAAqB,CAAC,CAC7B,OACF,CACAb,QAAQ,kBAAAqB,MAAA,CAAkBJ,QAAQ,EAAG,CACvC,CAAC,CAED,GAAM,CAAAK,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,GAAI,CAACC,SAAS,CAACC,WAAW,CAAE,CAC1Bf,SAAS,CAAC,8CAA8C,CAAC,CAC3D,CAAC,IAAM,CACLA,SAAS,CAAC,aAAa,CAAC,CACxBc,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtC,SAACC,QAAQ,CAAK,CACZjB,SAAS,CAAC,IAAI,CAAC,CACfT,QAAQ,iBAAAqB,MAAA,CACUK,QAAQ,CAACC,MAAM,CAACC,QAAQ,UAAAP,MAAA,CAAQK,QAAQ,CAACC,MAAM,CAACE,SAAS,EAC1E,CACH,CAAC,CACD,UAAM,CACJpB,SAAS,CAAC,kCAAkC,CAAC,CAC/C,CAAC,CACF,CACH,CACF,CAAC,CAED,mBACEX,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnC,IAAA,QAAKkC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BnC,IAAA,OAAAmC,QAAA,CAAI,aAAW,EAAK,EAChB,cACNnC,IAAA,SAAS,cACTE,KAAA,SAAMgC,SAAS,CAAC,MAAM,CAACE,QAAQ,CAAElB,YAAa,CAAAiB,QAAA,eAC5CnC,IAAA,UACEqC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BC,QAAQ,MACRC,OAAO,CAAE,SAAAA,QAACC,CAAC,QAAK,CAAAhC,OAAO,CAACgC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EACxC,CACD3B,GAAG,eAAIhB,IAAA,MAAGkC,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEnB,GAAG,EAAK,GAC/B,cACPd,KAAA,QAAKgC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnC,IAAA,QAAKkC,SAAS,CAAC,MAAM,EAAO,cAC5BlC,IAAA,SAAAmC,QAAA,CAAM,IAAE,EAAO,cACfnC,IAAA,QAAKkC,SAAS,CAAC,MAAM,EAAO,GACxB,cACNhC,KAAA,QAAKgC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBnC,IAAA,WAAQ4C,OAAO,CAAElB,WAAY,CAACQ,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,qBAE9C,EAAS,CACRvB,MAAM,eAAIZ,IAAA,QAAKkC,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEvB,MAAM,EAAO,GAC1C,GACF,CAEV,CAEA,cAAe,CAAAT,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}