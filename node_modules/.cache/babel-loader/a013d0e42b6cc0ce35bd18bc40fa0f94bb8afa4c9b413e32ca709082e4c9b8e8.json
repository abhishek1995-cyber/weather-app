{"ast":null,"code":"import _slicedToArray from\"/Users/abhishek/Documents/react/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useSearchParams,Link}from\"react-router-dom\";import{getWeatherDetails}from\"../store/action\";import{useDispatch,useSelector}from\"react-redux\";import Loader from\"./Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Weather(){var _current$condition,_current$condition2,_current$condition3;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.data;}),_useSelector$location=_useSelector.location,location=_useSelector$location===void 0?{}:_useSelector$location,_useSelector$current=_useSelector.current,current=_useSelector$current===void 0?{}:_useSelector$current,_useSelector$error=_useSelector.error,_useSelector$error2=_useSelector$error===void 0?{}:_useSelector$error,_useSelector$error2$m=_useSelector$error2.message,message=_useSelector$error2$m===void 0?\"\":_useSelector$error2$m;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var city=searchParams.get(\"city\");var lat=searchParams.get(\"lat\");var lng=searchParams.get(\"lng\");useEffect(function(){if(city){setLoading(true);dispatch(getWeatherDetails(city,function(succed){if(succed){setLoading(false);}}));}},[city,dispatch]);useEffect(function(){if(lng&&lat){setLoading(true);var _location=\"\".concat(lat,\",\").concat(lng);dispatch(getWeatherDetails(_location,function(succed){if(succed){setLoading(false);}}));}},[lat,lng,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"app-bg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"weather-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-weather\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-left\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Weather App\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(Loader,{})}):message?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(\"div\",{children:message})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"display-weather\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:current===null||current===void 0?void 0:(_current$condition=current.condition)===null||_current$condition===void 0?void 0:_current$condition.icon,alt:current===null||current===void 0?void 0:(_current$condition2=current.condition)===null||_current$condition2===void 0?void 0:_current$condition2.text})}),/*#__PURE__*/_jsxs(\"h3\",{children:[current===null||current===void 0?void 0:current.temp_c,/*#__PURE__*/_jsx(\"span\",{children:\"\\xB0\"}),\"C\"]}),/*#__PURE__*/_jsx(\"p\",{children:current===null||current===void 0?void 0:(_current$condition3=current.condition)===null||_current$condition3===void 0?void 0:_current$condition3.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"location\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-sharp fa-solid fa-location-dot\"}),/*#__PURE__*/_jsxs(\"p\",{children:[location===null||location===void 0?void 0:location.name,\",\",/*#__PURE__*/_jsx(\"span\",{children:location===null||location===void 0?void 0:location.country})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-weather\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feelslike center\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-temperature-three-quarters\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[current===null||current===void 0?void 0:current.feelslike_c,/*#__PURE__*/_jsx(\"span\",{children:\"\\xB0\"}),\"C\"]}),/*#__PURE__*/_jsx(\"br\",{}),\" Feels like\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"humidity center\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-droplet\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[current===null||current===void 0?void 0:current.humidity,\"%\"]}),/*#__PURE__*/_jsx(\"br\",{}),\" Humidity\"]})]})]})]})]})});}export default Weather;","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","Link","getWeatherDetails","useDispatch","useSelector","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Weather","_current$condition","_current$condition2","_current$condition3","dispatch","_useSelector","state","data","_useSelector$location","location","_useSelector$current","current","_useSelector$error","error","_useSelector$error2","_useSelector$error2$m","message","_useState","_useState2","_slicedToArray","loading","setLoading","_useSearchParams","_useSearchParams2","searchParams","city","get","lat","lng","succed","concat","className","children","to","src","condition","icon","alt","text","temp_c","class","name","country","feelslike_c","humidity"],"sources":["/Users/abhishek/Documents/react/weather-app/src/components/Weather.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSearchParams, Link } from \"react-router-dom\";\nimport { getWeatherDetails } from \"../store/action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"./Loader\";\n\nfunction Weather() {\n  const dispatch = useDispatch();\n  const {\n    location = {},\n    current = {},\n    error: { message = \"\" } = {},\n  } = useSelector((state) => state.data);\n  const [loading, setLoading] = useState(false);\n  const [searchParams] = useSearchParams();\n  const city = searchParams.get(\"city\");\n  const lat = searchParams.get(\"lat\");\n  const lng = searchParams.get(\"lng\");\n\n  useEffect(() => {\n    if (city) {\n      setLoading(true);\n      dispatch(\n        getWeatherDetails(city, (succed) => {\n          if (succed) {\n            setLoading(false);\n          }\n        })\n      );\n    }\n  }, [city, dispatch]);\n\n  useEffect(() => {\n    if (lng && lat) {\n      setLoading(true);\n      const location = `${lat},${lng}`;\n      dispatch(\n        getWeatherDetails(location, (succed) => {\n          if (succed) {\n            setLoading(false);\n          }\n        })\n      );\n    }\n  }, [lat, lng, dispatch]);\n\n  return (\n    <div className=\"app-bg\">\n      <div className=\"weather-card\">\n        <div className=\"header-weather\">\n          <Link to=\"/\">\n            <i className=\"fa-solid fa-arrow-left\"></i>\n          </Link>\n          <h2>Weather App</h2>\n        </div>\n        <hr></hr>\n        {loading ? (\n          <div className=\"loader\">\n            <Loader />\n          </div>\n        ) : message ? (\n          <div className=\"loader\">\n            <div>{message}</div>\n          </div>\n        ) : (\n          <>\n            <div className=\"display-weather\">\n              <figure>\n                <img\n                  src={current?.condition?.icon}\n                  alt={current?.condition?.text}\n                ></img>\n              </figure>\n              <h3>\n                {current?.temp_c}\n                <span>&#176;</span>C\n              </h3>\n              <p>{current?.condition?.text}</p>\n              <div className=\"location\">\n                <i class=\"fa-sharp fa-solid fa-location-dot\"></i>\n                <p>\n                  {location?.name},<span>{location?.country}</span>\n                </p>\n              </div>\n            </div>\n            {/* <hr></hr> */}\n            <div className=\"footer-weather\">\n              <div className=\"feelslike center\">\n                <i class=\"fa-solid fa-temperature-three-quarters\"></i>\n                <p>\n                  <strong>\n                    {current?.feelslike_c}\n                    <span>&#176;</span>C\n                  </strong>\n                  <br /> Feels like\n                </p>\n              </div>\n              <div className=\"humidity center\">\n                <i class=\"fa-solid fa-droplet\"></i>\n                <p>\n                  <strong>{current?.humidity}%</strong>\n                  <br /> Humidity\n                </p>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Weather;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}